(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{24:function(e,t,n){},25:function(e,t,n){},33:function(e,t,n){},41:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){},60:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n(10),a=n.n(r),s=(n(41),n(4)),o=n.n(s),i=n(7),l=n(5),u=(n(24),n(25),n(3)),d=n(6),j=n(77),b=n(78),h=n(0),m=function(e){var t=e.isOpen;return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:"hamburger",children:[Object(h.jsx)("div",{className:"burger burger1"}),Object(h.jsx)("div",{className:"burger burger2"}),Object(h.jsx)("div",{className:"burger burger3"})]}),Object(h.jsx)("style",{jsx:"true",children:"\n        // .hamburger {\n        //   width: 2rem;\n        //   height: 2rem;\n        //   display: flex;\n        //   justify-content: space-around;\n        //   flex-flow: column nowrap;\n        //   z-index: 10;\n        // }\n\n        .hamburger {\n          display: none;\n        }\n      \n        .burger {\n          width: 2rem;\n          height: 0.25rem;\n          border-radius: 10px;\n          background-color: white;\n          margin: 0.2rem;\n          transform-origin: 1px;\n          transition: all 0.3s linear;\n        }\n\n        .burger1 {\n          transform: ".concat(t?"rotate(45deg)":"rotate(0)",";\n        }\n\n        .burger2 {\n          transform: ").concat(t?"translateX(100%)":"translateX(0)",";\n          opacity: ").concat(t?0:1,";\n        }\n\n        .burger3 {\n          transform: ").concat(t?"rotate(-45deg)":"rotate(0)","\n        }\n        \n        @media (max-width: 767px) {\n          .hamburger {\n            // display: fixed;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            flex-direction: column;\n            padding-top: 10px;\n            // margin-left: 10px;\n            z-index: 10;\n          }\n        }\n    ")})]})},p={color:"white",textDecoration:"none"},O=function(e){var t=e.handleHamburger,n=e.hamburgerOpen;return Object(h.jsxs)("div",{className:"navigation-container",children:[Object(h.jsxs)("div",{className:"navigation",children:[Object(h.jsxs)("ul",{children:[Object(h.jsx)(u.b,{style:p,to:"/about",onClick:t,className:"navigation__about",children:Object(h.jsx)("li",{children:"About us"})}),Object(h.jsx)(u.b,{style:p,to:"/contact",onClick:t,children:Object(h.jsx)("li",{children:"Contact"})})]}),Object(h.jsx)("div",{className:"hamburger-container",onClick:t,children:Object(h.jsx)(m,{isOpen:n})})]}),Object(h.jsx)("style",{jsx:"true",children:"\n\n        .navigation-container {\n          position: absolute;\n          width: 50px;\n          margin: 0 0.5rem 0 0.5rem;\n        }\n\n        .navigation {\n          width: 100%;\n        }\n\n        .navigation ul {\n          display: ".concat(n?"inline":"none",";\n          color: white;\n          height: 100vh;\n          width: 25vw;\n          margin-top: 50px;\n          padding: 0;\n          position: absolute;\n        }\n        \n        .navigation ul li {\n          list-style-type: none;\n          // padding-right: 10px;\n        }\n\n        .hamburger-container {\n          margin: 0;\n          padding: 0;\n        }\n\n    ")})]})},g={color:"black",textDecoration:"none"},x=function(e){var t=e.username,n=e.handleBackground,c=(e.handleHamburger,e.setHamburgerOpen),r=function(){n({background:"#282727"}),c(!1)};return Object(h.jsx)(h.Fragment,{children:t?Object(h.jsx)(u.b,{style:g,to:"/account",onClick:function(){r()},children:Object(h.jsxs)("div",{className:"header__login",children:[Object(h.jsx)("p",{className:"header__username",children:t}),Object(h.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"36px",viewBox:"0 0 24 24",width:"36px",fill:"#FFFFFF",children:[Object(h.jsx)("path",{d:"M0 0h24v24H0V0z",fill:"none"}),Object(h.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM7.07 18.28c.43-.9 3.05-1.78 4.93-1.78s4.51.88 4.93 1.78C15.57 19.36 13.86 20 12 20s-3.57-.64-4.93-1.72zm11.29-1.45c-1.43-1.74-4.9-2.33-6.36-2.33s-4.93.59-6.36 2.33C4.62 15.49 4 13.82 4 12c0-4.41 3.59-8 8-8s8 3.59 8 8c0 1.82-.62 3.49-1.64 4.83zM12 6c-1.94 0-3.5 1.56-3.5 3.5S10.06 13 12 13s3.5-1.56 3.5-3.5S13.94 6 12 6zm0 5c-.83 0-1.5-.67-1.5-1.5S11.17 8 12 8s1.5.67 1.5 1.5S12.83 11 12 11z"})]})]})}):Object(h.jsx)(u.b,{style:g,to:"/login",onClick:function(){r()},children:Object(h.jsx)("div",{className:"header__login",children:Object(h.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"36px",viewBox:"0 0 24 24",width:"36px",fill:"#FFFFFF",children:[Object(h.jsx)("path",{d:"M0 0h24v24H0V0z",fill:"none"}),Object(h.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM7.07 18.28c.43-.9 3.05-1.78 4.93-1.78s4.51.88 4.93 1.78C15.57 19.36 13.86 20 12 20s-3.57-.64-4.93-1.72zm11.29-1.45c-1.43-1.74-4.9-2.33-6.36-2.33s-4.93.59-6.36 2.33C4.62 15.49 4 13.82 4 12c0-4.41 3.59-8 8-8s8 3.59 8 8c0 1.82-.62 3.49-1.64 4.83zM12 6c-1.94 0-3.5 1.56-3.5 3.5S10.06 13 12 13s3.5-1.56 3.5-3.5S13.94 6 12 6zm0 5c-.83 0-1.5-.67-1.5-1.5S11.17 8 12 8s1.5.67 1.5 1.5S12.83 11 12 11z"})]})})})})},f=(n(33),{color:"black",textDecoration:"none"}),_=function(e){var t=e.cartProducts,n=e.handleBackground,c=e.setHamburgerOpen;return Object(h.jsxs)(u.b,{to:"/cart",style:f,onClick:function(){n({background:"#282727"}),c(!1)},children:[t.length>0&&Object(h.jsx)("p",{className:"header__cart-num",children:t.length}),Object(h.jsx)("div",{className:"header__cart",children:Object(h.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"36px",viewBox:"0 0 24 24",width:"36px",fill:"#FFFFFF",alt:"shopping cart icon",children:[Object(h.jsx)("path",{d:"M0 0h24v24H0V0z",fill:"none"}),Object(h.jsx)("path",{d:"M15.55 13c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.37-.66-.11-1.48-.87-1.48H5.21l-.94-2H1v2h2l3.6 7.59-1.35 2.44C4.52 15.37 5.48 17 7 17h12v-2H7l1.1-2h7.45zM6.16 6h12.15l-2.76 5H8.53L6.16 6zM7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zm10 0c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"})]})})]})},v=(n(49),{color:"black",textDecoration:"none"}),N=function(e){var t=e.handleProductState,n=e.cartProducts,c=e.username,r=e.headerBackground,a=e.handleBackground,s=e.handleHamburger,o=e.hamburgerOpen,i=e.setHamburgerOpen;return Object(h.jsx)("div",{className:"header",style:r,children:Object(h.jsxs)("div",{className:"header-container",children:[Object(h.jsx)(O,{handleHamburger:s,hamburgerOpen:o}),Object(h.jsx)(x,{username:c,handleBackground:a,setHamburgerOpen:i}),Object(h.jsx)(_,{cartProducts:n,username:c,handleBackground:a,setHamburgerOpen:i}),Object(h.jsx)(u.b,{style:v,to:"/",className:"header__logo",onClick:function(){t([]),i(!1)},children:Object(h.jsx)("img",{className:"header__logo--pic",src:"https://i.postimg.cc/43LH8zv1/logo-transparent-without-V.png",alt:"Visishop logo"})})]})})},k=(n(50),n(79)),w={color:"black",textDecoration:"none"},C=function(e){var t=e.handleOpen,n=e.handleClose,r=e.browseAnchorEl,a=e.handleFetchGroup,s=e.handleBackground,o=e.handleHeaderBackground,i=e.setHamburgerOpen,l=Boolean(r),d=function(e){a(e),n(null,null),s({background:"#282727"}),o({background:"#282727"}),i(!1)};return Object(c.useEffect)((function(){s({background:"no-repeat url('https://i.postimg.cc/D0nBd8h2/fiddle-background-edited-blur4.jpg')",backgroundSize:"cover"}),o({background:"transparent"})}),[]),Object(h.jsxs)("div",{className:"browse",children:[Object(h.jsxs)(k.a,{className:"browse__popover",anchorEl:r,open:l,anchorOrigin:{vertical:"center",horizontal:"center"},transformOrigin:{vertical:"center",horizontal:"center"},children:[Object(h.jsx)(u.b,{style:w,to:"/products",className:"browse__item browse__item--headphones",onClick:function(){d("headphones")},children:Object(h.jsx)("span",{children:"Headphones"})}),Object(h.jsx)(u.b,{style:w,to:"/products",className:"browse__item browse__item--speakers",onClick:function(){d("speakers")},children:Object(h.jsx)("span",{children:"Speakers"})}),Object(h.jsx)(u.b,{style:w,to:"/products",className:"browse__item browse__item--speakers",onClick:function(){d("guitars")},children:Object(h.jsx)("span",{children:"Guitars"})}),Object(h.jsx)(u.b,{style:w,to:"/products",className:"browse__item browse__item--speakers",onClick:function(){d("violins")},children:Object(h.jsx)("span",{children:"Violins"})}),Object(h.jsx)(u.b,{style:w,to:"/products",className:"browse__item browse__item--speakers",onClick:function(){d("cellos")},children:Object(h.jsx)("span",{children:"Cellos"})}),Object(h.jsx)(u.b,{style:w,to:"/products",className:"browse__item browse__item--keyboards",onClick:function(){d("keyboards")},children:Object(h.jsx)("span",{children:"Keyboards"})}),Object(h.jsx)(u.b,{style:w,to:"/products",className:"browse__item browse__item--microphones",onClick:function(){d("microphones")},children:Object(h.jsx)("span",{children:"Microphones"})}),Object(h.jsx)(u.b,{style:w,to:"/products",className:"browse__item browse__item--djcontrollers",onClick:function(){d("djcontrollers")},children:Object(h.jsx)("span",{children:"DJ Controllers"})}),Object(h.jsx)("button",{className:"browse__button-close",type:"button",onClick:n,children:"Close"})]}),Object(h.jsx)("button",{className:"browse__button",type:"button",onClick:function(e){t(e.target),i(!1)},children:"BROWSE PRODUCTS"}),Object(h.jsx)("div",{className:"landing-page-line"})]})},S=n(29),y=(n(51),function(e){var t=e.handleOpen,n=e.handleClose,r=e.recoAnchorEl,a=e.handleFetchAll,s=e.handleOptions,o=e.handleBackground,i=e.handleHeaderBackground,d=e.setHamburgerOpen,j=Object(c.useState)([]),b=Object(l.a)(j,2),m=b[0],p=b[1],O=function(e){var t=e.target.textContent.toLowerCase();m.includes(t)?p(m.filter((function(e){return e!==t}))):(s([].concat(Object(S.a)(m),[t])),p([].concat(Object(S.a)(m),[t]))),e.target.classList.toggle("selected")},g=Boolean(r);return Object(h.jsxs)("div",{className:"reco",children:[Object(h.jsxs)(k.a,{className:"reco__popover",anchorEl:r,open:g,anchorOrigin:{vertical:"center",horizontal:"center"},transformOrigin:{vertical:"center",horizontal:"center"},children:[Object(h.jsx)("header",{className:"reco__header",children:"What are you looking for?"}),Object(h.jsx)("p",{className:"reco__description",children:"Choose one or more options"}),Object(h.jsx)("span",{className:"reco__option",onClick:O,children:"Home"}),Object(h.jsx)("span",{className:"reco__option",onClick:O,children:"Outdoor"}),Object(h.jsx)("span",{className:"reco__option",onClick:O,children:"Professional"}),Object(h.jsx)("span",{className:"reco__option",onClick:O,children:"Studio"}),Object(h.jsx)("span",{className:"reco__option",onClick:O,children:"Sport"}),m.length>0?Object(h.jsxs)(u.b,{to:"/recommendation",className:"reco__button-searchcontainer",children:[" ",Object(h.jsx)("button",{className:"reco__button-search",onClick:function(){a(m),n(),o({background:"#282727"}),i({background:"#282727"}),d(!1)},children:"Search"})]}):Object(h.jsxs)("button",{className:"reco__button-search reco__button-searchcontainer",onClick:function(e){e.target.children[0].classList.add("validation-animation"),setTimeout((function(){e.target.children[0].classList.remove("validation-animation")}),2995)},children:[Object(h.jsx)("div",{className:"reco__button--warning",children:"Please select at least one option"}),"Search"]}),Object(h.jsx)("button",{className:"reco__button-close",onClick:function(){n(),p([])},children:"Close"})]}),Object(h.jsx)("button",{className:"reco__button",onClick:function(e){t(e.target),d(!1)},children:"CHOOSE SCENARIO"})]})}),P=n(14),F=n.n(P),H=function(e){var t=e.name,n=e.price,c=e.description,r=e.imgUrl,a=e.use,s=e.item,l=e.username,d=e.getCart,j=e.id,b=e.handleProductState,m=e.handleFetchSingle,p=e.setHamburgerOpen,O=c;!function(e){if(e.length>100){var t=e.match(/^[\d\D]{101}/);O=t+"..."}}(c);var g=function(){var e=Object(i.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.idInCart=F()(),e.next=3,fetch("/api/carts",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:l,item:s,method:"add"})});case 3:d(),t.target.children[0].classList.add("validation-animation"),setTimeout((function(){t.target.children[0].classList.remove("validation-animation")}),2980),console.log("".concat(s.name," added to the cart."));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();!function(e){switch(e){case"studio":"Best suited for a studio enviroment";break;case"home":"Best suited for a home enviroment";break;case"outdoors":"Best suited for outdoor activites";break;default:;}}(a);var x=function(){p(!1),b([]).then(m(j))};return Object(h.jsxs)("div",{className:"product",children:[Object(h.jsx)(u.b,{to:"/product",children:Object(h.jsx)("div",{className:"product__image-container",onClick:x,children:Object(h.jsx)("img",{className:"product__image",onLoad:function(e){e.target.height>240&&(e.target.height=240,e.target.width=180)},src:r,border:"0",alt:t})})}),Object(h.jsxs)("div",{className:"product__desc-container",children:[Object(h.jsx)("h3",{className:"product__name",children:t}),Object(h.jsx)("h3",{className:"product__desc",children:O}),Object(h.jsx)("h4",{className:"product__price",children:n}),Object(h.jsx)("div",{className:"product__desc-buttons"}),Object(h.jsxs)(u.b,{to:"/product",children:[Object(h.jsx)("button",{onClick:x,className:"product__show-button",children:"Show"}),Object(h.jsx)("br",{})]}),l?Object(h.jsxs)("button",{onClick:g,className:"product__add-button",children:[Object(h.jsx)("div",{className:"product__item-added",children:"Added to cart"}),"Add to cart"]}):Object(h.jsx)(u.b,{to:"/login",children:Object(h.jsx)("button",{className:"product__add-button",children:"Add to cart"})})]})]})},B=function(e){var t=e.products,n=e.cookies,r=e.username,a=e.getCart,s=e.handleFetchSingle,o=e.setProducts,i=e.handleProductState,l=e.setHamburgerOpen,u=(e.setPrevProductState,window.localStorage);return Object(c.useEffect)((function(){var e=u.getItem("products");o(JSON.parse(e))}),[]),t.map((function(e){return Object(h.jsx)(H,{id:e._id,name:e.name,price:e.price,use:e.use,specs:e.specs[0],description:e.description,imgUrl:e.img,item:e,cookies:n,username:r,getCart:a,handleFetchSingle:s,handleProductState:i,setHamburgerOpen:l},e._id)}))},E=(n(52),function(e){var t=e.productGroup,n=e.product,c=e.username,r=e.getCart,a=e.handleFetchSingle,s=e.setHamburgerOpen,l=[],d="",j=function(){var e=Object(i.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.idInCart=F()(),e.next=3,fetch("/api/carts",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:c,item:t,method:"add"})});case 3:r(),console.log("".concat(t.name," added to the cart."));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h1",{className:"recoboard__groupheader",children:t}),Object(h.jsx)("section",{className:"recoboard__container",children:n.map((function(e){var t,n,r;return t=e.use[0],n=e.use[1],(r=e.use[2])?d="".concat(t,", ").concat(n,", ").concat(r,"."):n?d="".concat(t,", ").concat(n,"."):t&&(d="".concat(t,".")),l.includes(e)?null:(l.push(e),Object(h.jsxs)("article",{className:"recoproduct",children:[Object(h.jsx)(u.b,{to:"/product",children:Object(h.jsx)("div",{onClick:function(){var t;t=e._id,s(!1),a(t)},className:"recoproduct__img-container",children:Object(h.jsx)("img",{className:"recoproduct__img",src:e.img,alt:e.name})})}),Object(h.jsx)("div",{className:"recoproduct__name",children:e.name}),Object(h.jsx)("div",{className:"recoproduct__use",children:d}),Object(h.jsx)("div",{className:"recoproduct__price",children:e.price}),c?Object(h.jsx)("button",{onClick:function(){return j(e)},className:"recoproduct__add",children:"Add to cart"}):Object(h.jsx)(u.b,{to:"/login",children:Object(h.jsx)("button",{className:"recoproduct__add",children:"Add to cart"})})]},e._id))}))})]})}),z=function(e){var t=e.products,n=e.options,r=e.setProducts,a=e.setOptions,s=e.username,o=e.getCart,i=e.handleFetchSingle,l=e.setHamburgerOpen,u=(e.setPrevProductState,window.localStorage);Object(c.useEffect)((function(){var e=u.getItem("products"),t=u.getItem("options");if(t.length>2){var n=t.split(",");a(n)}r(JSON.parse(e))}),[]);var d=[];t.forEach((function(e){for(var t=0;t<e.use.length;t++)for(var c=0;c<n.length;c++)e.use[t]===n[c]&&d.push(e)}));var j="";n.forEach((function(e){return j+=e+", "}));var b=[],m={};d.forEach((function(e){b.includes(e.productGroup)||b.push(e.productGroup)})),b.forEach((function(e){m["".concat(e)]=[]})),d.forEach((function(e){Object.keys(m).includes(e.productGroup)&&m["".concat(e.productGroup)].push(e)}));var p={};for(var O in m){var g=m["".concat(O)].sort((function(e,t){return t.recRating-e.recRating}));p["".concat(O)]=g}return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("h3",{children:["Best options for ",j.replace(/, $/,".")]},F()()),Object.entries(p).map((function(e){return Object(h.jsx)(E,{productGroup:e[0],product:e[1],username:s,getCart:o,handleFetchSingle:i,setHamburgerOpen:l},F()())}))]})},T=(n(53),{color:"black",textDecoration:"none"}),D=function(e){var t=e.username,n=e.handleUsername,r=Object(c.useState)(""),a=Object(l.a)(r,2),s=a[0],j=a[1],b=Object(c.useState)(""),m=Object(l.a)(b,2),p=m[0],O=m[1],g=function(e){"login__username"===e.target.className&&j(e.target.value),"login__password"===e.target.className&&O(e.target.value)},x=function(){var e=Object(i.a)(o.a.mark((function e(t){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,fetch("/api/users/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:s,password:p})});case 3:return c=e.sent,n(s),j(""),O(""),window.location.reload(!1),e.abrupt("return",c);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsxs)(h.Fragment,{children:[t&&Object(h.jsx)(d.a,{to:"/"}),Object(h.jsxs)("section",{className:"login",children:[Object(h.jsx)("h2",{className:"login__header",children:"Login"}),Object(h.jsxs)("form",{className:"login__form",children:[Object(h.jsx)("input",{type:"text",placeholder:"username",className:"login__username",onChange:g}),Object(h.jsx)("input",{type:"password",placeholder:"password",className:"login__password",onChange:g}),Object(h.jsx)("input",{type:"submit",value:"Login",className:"login__button",onClick:x})]}),Object(h.jsx)(u.b,{style:T,to:"/register",children:Object(h.jsxs)("div",{className:"login__register",children:["Not a member? ",Object(h.jsx)("div",{className:"login__register--signup",children:"Sign up!"})]})})]})]})},L=(n(54),n(26)),A=n.n(L),I=function(e){var t=e.handleUserCookie,n=(e.cookies,e.thisUsername),r=Object(c.useState)(""),a=Object(l.a)(r,2),s=a[0],u=a[1],j=Object(c.useState)(""),b=Object(l.a)(j,2),m=b[0],p=b[1],O=Object(c.useState)(""),g=Object(l.a)(O,2),x=g[0],f=g[1],_=Object(c.useState)(""),v=Object(l.a)(_,2),N=v[0],k=v[1],w=function(){var e=Object(i.a)(o.a.mark((function e(n){var c,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,fetch("/api/users/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:s,email:m,username:x,password:N})});case 3:return e.sent.status,e.next=7,A.a.get("token");case 7:return c=e.sent,e.next=10,JSON.parse(atob(c.split(".")[1]));case 10:r=e.sent,t(r.username),u(""),p(""),f(""),k("");case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(e){"register__name"===e.target.className&&u(e.target.value),"register__email"===e.target.className&&p(e.target.value),"register__username"===e.target.className&&f(e.target.value),"register__password"===e.target.className&&k(e.target.value)};return Object(h.jsxs)(h.Fragment,{children:[n&&Object(h.jsx)(d.a,{to:"/"}),Object(h.jsxs)("section",{className:"register",children:[Object(h.jsx)("h2",{className:"register__header",children:"Sign up"}),Object(h.jsxs)("form",{className:"register__form",children:[Object(h.jsx)("input",{type:"text",placeholder:"name",className:"register__name",onChange:C,value:s}),Object(h.jsx)("input",{type:"text",placeholder:"email",className:"register__email",onChange:C,value:m}),Object(h.jsx)("input",{type:"text",placeholder:"username",className:"register__username",onChange:C,value:x}),Object(h.jsx)("input",{type:"password",placeholder:"password",className:"register__password",onChange:C,value:N}),Object(h.jsx)("input",{type:"submit",className:"register__button",value:"Create account",onClick:w})]})]})]})},U=function(e){var t=e.name,n=e.item,c=e.username,r=e.getCart,a=e.handleFetchSingle,s=e.handleProductState,l=e.setHamburgerOpen,d=function(){var e=Object(i.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/carts",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:c,item:n,method:"remove"})});case 2:r(),console.log("".concat(c,": ").concat(n.name," removed from your cart."));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsxs)("article",{className:"cart__product",children:[Object(h.jsx)(u.b,{to:"/product",onClick:function(){l(!1),s([]).then(a(n._id))},children:Object(h.jsx)("div",{className:"cart__img-container",children:Object(h.jsx)("img",{className:"cart__img",src:n.img,alt:n.name})})}),Object(h.jsx)("div",{className:"cart__name",children:t}),Object(h.jsx)("div",{className:"cart__price",children:n.price}),Object(h.jsx)("button",{className:"cart__remove",onClick:d,children:"X"})]})},J={color:"white",textDecoration:"none"},M=function(e){var t=e.cartProducts,n=e.username,c=e.getCart,r=e.handleBackground,a=e.handleFetchSingle,s=e.handleProductState,o=e.setHamburgerOpen,i=[];t.forEach((function(e){var t=e.price.slice(0,-3);i.push(parseInt(t))}));var l=i.reduce((function(e,t){return e+t}),0);return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h2",{className:"cart__title",children:"Cart"}),Object(h.jsx)("div",{className:"cart-board",children:t.map((function(e){return Object(h.jsx)(U,{name:e.name,item:e,username:n,getCart:c,handleFetchSingle:a,handleProductState:s,setHamburgerOpen:o},F()())}))}),Object(h.jsx)("h4",{className:"cart__total-amount-title",children:"total"}),Object(h.jsxs)("p",{className:"cart__total-amount",children:[l," SEK"]}),Object(h.jsx)(u.b,{style:J,to:"/checkout",className:"checkout__link",onClick:function(){r({background:"#282727"})},children:Object(h.jsx)("button",{className:"checkout__link-button",children:"Checkout"})})]})},G=(n(55),function(e){var t=e.handleLogout,n=e.cookies,r=e.name,a=e.username,s=e.email,o=Object(c.useState)(""),i=Object(l.a)(o,2),u=i[0],j=i[1];return Object(c.useEffect)((function(){if(a){var e=r[0].toUpperCase(),t=r.slice(1,r.length);j(e+t)}}),[a]),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:"account-info",children:[Object(h.jsxs)("h2",{className:"account-info__name",children:["Hi, ",u]}),Object(h.jsx)("div",{className:"account-info__username--title",children:"username"}),Object(h.jsx)("div",{className:"account-info__username",children:a}),Object(h.jsx)("div",{className:"account-info__email--title",children:"email"}),Object(h.jsx)("div",{className:"account-info__email",children:s})]}),Object(h.jsx)("button",{onClick:function(){t(),window.location.reload(!1)},className:"logout-button",children:"Logout"}),!n.token&&Object(h.jsx)(d.a,{to:"/"})]})}),R=(n(56),function(e){var t=e.handleBackground,n=e.handleHeaderBackground;return Object(c.useEffect)((function(){t({background:"no-repeat url('https://i.postimg.cc/D0nBd8h2/fiddle-background-edited-blur4.jpg')",backgroundSize:"cover"}),n({background:"transparent"})}),[]),Object(h.jsxs)("div",{className:"contact",children:[Object(h.jsx)("h2",{className:"contact__title",children:"Contact"}),Object(h.jsxs)("article",{className:"contact__content",children:[Object(h.jsx)("p",{children:"If you want to see your products in our platform, please reach us at:"}),Object(h.jsx)("p",{children:"contact@visimusicshop.com"})]})]})}),V=(n(57),function(e){var t=e.handleBackground,n=e.handleHeaderBackground;return Object(c.useEffect)((function(){t({background:"no-repeat url('https://i.postimg.cc/D0nBd8h2/fiddle-background-edited-blur4.jpg')",backgroundSize:"cover"}),n({background:"transparent"})}),[]),Object(h.jsxs)("div",{className:"about",children:[Object(h.jsx)("h2",{className:"about__title",children:"About our shop"}),Object(h.jsxs)("article",{className:"about__content",children:[Object(h.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Ut facilisis arcu mauris, eu posuere diam tempor at. Praesent ut tempus quam. Nullam at vehicula erat, et consequat ipsum. Interdum et malesuada fames ac ante ipsum primis in faucibus. Vivamus tincidunt tempus diam, quis feugiat nisl. Integer est libero, faucibus eget tortor ac, condimentum gravida tellus. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Ut vestibulum, lorem consectetur viverra tincidunt, tellus ipsum viverra elit, quis vehicula leo mi non odio."})," ",Object(h.jsx)("br",{}),Object(h.jsx)("h3",{children:"Development team:"}),Object(h.jsx)("p",{children:"Ricardo Leit\xe3o Pedro"}),Object(h.jsx)("p",{children:"Samuel Ekholm"})]})]})}),q=(n(58),function(e){var t,n,r,a,s,l,d=e.products,j=e.setProducts,b=e.username,m=e.getCart,p=e.handleHeaderBackground,O=window.localStorage;Object(c.useEffect)((function(){var e=O.getItem("products");j(JSON.parse(e)),p({background:"#282727"})}),[]),d.length>0&&(t=d[0],n=d[0].name,r=d[0].price,a=d[0].description,s=d[0].img,l=d[0].specs[0]);var g=function(){var e=Object(i.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.idInCart=F()(),e.next=3,fetch("/api/carts",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:b,item:t,method:"add"})});case 3:m(),console.log("".concat(t.name," added to the cart."));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return d.length>0?Object(h.jsxs)("div",{className:"single-product",children:[Object(h.jsx)("div",{className:"single-product__image-container",children:Object(h.jsx)("img",{className:"single-product__image",src:s,border:"0",alt:n})}),Object(h.jsx)("h3",{className:"single-product__name",children:n}),Object(h.jsx)("p",{className:"single-product__price",children:r}),b?Object(h.jsx)("button",{onClick:g,className:"single-product__add-button",children:"ADD TO CART"}):Object(h.jsx)(u.b,{to:"/login",children:Object(h.jsx)("button",{className:"single-product__add-button",children:"ADD TO CART"})}),Object(h.jsxs)("div",{className:"single-product__desc-container",children:[Object(h.jsx)("p",{className:"single-product__desc",children:a}),Object.entries(l).map((function(e){return Object(h.jsxs)("div",{className:"single-product__specs",children:[Object(h.jsx)("p",{className:"single-product__specs-title",children:e[0]}),Object(h.jsx)("p",{className:"single-product__specs-desc",children:e[1]})]},F()())}))]})]}):null}),K=(n(59),function(e){var t=e.cartProducts,n=[];t.forEach((function(e){var t=e.price.slice(0,-3);n.push(parseInt(t))}));var c=n.reduce((function(e,t){return e+t}),0);return Object(h.jsxs)("div",{className:"checkout",children:[Object(h.jsx)("h3",{className:"checkout__title",children:"Checkout"}),Object(h.jsx)("p",{style:{fontWeight:"bold"},children:"purchase"}),t.map((function(e){return Object(h.jsxs)("div",{className:"checkout__product",children:[Object(h.jsx)("span",{className:"checkout__product-name",children:e.name}),Object(h.jsx)("span",{className:"checkout__product-price",children:e.price})]},e.idInCart)})),Object(h.jsxs)("div",{children:[Object(h.jsx)("p",{className:"checkout__total-amount-title",children:"total"}),Object(h.jsxs)("p",{className:"checkout__total-amount",children:[c," SEK"]})]}),Object(h.jsxs)("section",{className:"address",children:[Object(h.jsx)("p",{className:"checkout__address-title",children:"Please enter your delivery address below:"}),Object(h.jsxs)("form",{className:"address__form",children:[Object(h.jsx)("input",{type:"text",placeholder:"street and number",className:"address__street"}),Object(h.jsx)("input",{type:"text",placeholder:"postal code",className:"address__postal"}),Object(h.jsx)("input",{type:"text",placeholder:"city",className:"address__city"})]}),Object(h.jsxs)("button",{className:"checkout__pay-button",onClick:function(e){e.target.children[0].classList.add("validation-animation"),setTimeout((function(){e.target.children[0].classList.remove("validation-animation")}),2995)},children:["To payment",Object(h.jsx)("div",{className:"validation-message",children:"Coming soon!"})]})]})]})}),W=function(e){e.prevProductState,e.handleProductState;var t=Object(d.f)();return Object(h.jsx)("div",{className:"backbutton",onClick:function(){return t.goBack()}})},X=function(){var e=Object(c.useState)(null),t=Object(l.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(null),s=Object(l.a)(a,2),m=s[0],p=s[1],O=Object(c.useState)([]),g=Object(l.a)(O,2),x=g[0],f=g[1],_=Object(c.useState)([]),v=Object(l.a)(_,2),k=v[0],w=v[1],S=Object(c.useState)([]),P=Object(l.a)(S,2),F=P[0],H=P[1],E=Object(c.useState)(""),T=Object(l.a)(E,2),L=T[0],A=T[1],U=Object(c.useState)(""),J=Object(l.a)(U,2),X=J[0],$=J[1],Q=Object(c.useState)(""),Y=Object(l.a)(Q,2),Z=Y[0],ee=Y[1],te=Object(c.useState)({background:"#282727"}),ne=Object(l.a)(te,2),ce=ne[0],re=ne[1],ae=Object(c.useState)({background:"#282727"}),se=Object(l.a)(ae,2),oe=se[0],ie=se[1],le=Object(j.a)(["token"]),ue=Object(l.a)(le,3),de=ue[0],je=ue[1],be=ue[2],he=Object(c.useState)(!1),me=Object(l.a)(he,2),pe=me[0],Oe=me[1],ge=Object(c.useState)([]),xe=Object(l.a)(ge,2),fe=xe[0],_e=xe[1],ve=window.localStorage;Object(c.useEffect)((function(){ve.setItem("products",JSON.stringify(x))}),[x]),Object(c.useEffect)((function(){ve.setItem("options",k)}),[k]);var Ne=function(e){w(e)},ke=function(){be("token")},we=function(){var e=Object(i.a)(o.a.mark((function e(){var t,n,c,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!de.token){e.next=12;break}return e.next=3,JSON.parse(atob(de.token.split(".")[1]));case 3:return t=e.sent,n=t.username,e.next=7,fetch("/api/carts/".concat(n),{method:"GET"});case 7:return c=e.sent,e.next=10,c.json();case 10:r=e.sent,H(r);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){if(de.token){var e=JSON.parse(atob(de.token.split(".")[1]));A(e.username),ee(e.email),$(e.name),we()}}),[de]);var Ce=function(e){"browse__button"===e.className&&r(e),"reco__button"===e.className&&p(e)},Se=function(){r(null),p(null)},ye=function(){var e=Object(i.a)(o.a.mark((function e(t){var n,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/products/productGroup/".concat(t));case 2:return n=e.sent,e.next=5,n.json();case 5:c=e.sent,f(c);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Pe=function(){var e=Object(i.a)(o.a.mark((function e(t){var n,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(t),e.next=3,fetch("/api/products");case 3:return n=e.sent,e.next=6,n.json();case 6:c=e.sent,f(c);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Fe=function(){var e=Object(i.a)(o.a.mark((function e(t){var n,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/products/".concat(t));case 2:return n=e.sent,e.next=5,n.json();case 5:c=e.sent,f(c);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),He=function(){var e=Object(i.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Be=function(e){je("user",e)},Ee=function(e){A(e)},ze=function(e){re(e)},Te=function(e){ie(e)};return Object(h.jsx)("div",{className:"app-container",style:ce,children:Object(h.jsx)(b.a,{children:Object(h.jsx)(u.a,{children:Object(h.jsxs)("main",{className:"main-content",children:[Object(h.jsx)(N,{handleProductState:He,cookies:de,cartProducts:F,username:L,getCart:we,headerBackground:oe,handleBackground:ze,hamburgerOpen:pe,handleHamburger:function(){Oe(!pe)},setHamburgerOpen:Oe}),Object(h.jsx)(d.b,{exact:!0,path:"/",render:function(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(C,{handleOpen:Ce,handleClose:Se,handleFetchGroup:ye,browseAnchorEl:n,handleBackground:ze,handleHeaderBackground:Te,setHamburgerOpen:Oe}),Object(h.jsx)(y,{handleOpen:Ce,handleClose:Se,handleFetchAll:Pe,recoAnchorEl:m,handleOptions:Ne,handleBackground:ze,handleHeaderBackground:Te,setHamburgerOpen:Oe}),Object(h.jsx)("h1",{className:"app-title",children:"VisiMusic"})]})}}),Object(h.jsx)(d.b,{path:"/products",render:function(){return Object(h.jsxs)("section",{className:"product-board",children:[Object(h.jsx)(W,{handleProductState:He,prevProductState:fe}),Object(h.jsx)(B,{products:x,cookies:de,username:L,getCart:we,handleFetchSingle:Fe,setProducts:f,handleProductState:He,setHamburgerOpen:Oe,setPrevProductState:_e})]})}}),Object(h.jsx)(d.b,{path:"/recommendation",render:function(){return Object(h.jsxs)("section",{className:"recoboard",children:[Object(h.jsx)(W,{handleProductState:He,prevProductState:fe}),Object(h.jsx)(z,{products:x,options:k,setProducts:f,setOptions:w,username:L,getCart:we,handleFetchSingle:Fe,setHamburgerOpen:Oe,setPrevProductState:_e})]})}}),Object(h.jsx)(d.b,{path:"/login",render:function(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(W,{}),Object(h.jsx)(D,{handleUserCookie:Be,cookies:de,username:L,handleUsername:Ee,getCart:we})]})}}),Object(h.jsx)(d.b,{path:"/register",render:function(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(W,{}),Object(h.jsx)(I,{handleUserCookie:Be,cookies:de,thisUsername:L})]})}}),Object(h.jsx)(d.b,{path:"/cart",render:function(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(W,{}),Object(h.jsx)(M,{username:L,cartProducts:F,getCart:we,handleBackground:ze,handleFetchSingle:Fe,handleProductState:He,setHamburgerOpen:Oe})]})}}),Object(h.jsx)(d.b,{path:"/account",render:function(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(W,{}),Object(h.jsx)(G,{handleLogout:ke,cookies:de,username:L,email:Z,name:X})]})}}),Object(h.jsx)(d.b,{path:"/checkout",render:function(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(W,{}),Object(h.jsx)(K,{cartProducts:F})]})}}),Object(h.jsx)(d.b,{path:"/contact",render:function(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(W,{}),Object(h.jsx)(R,{handleBackground:ze,handleHeaderBackground:Te})]})}}),Object(h.jsx)(d.b,{path:"/about",render:function(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(W,{}),Object(h.jsx)(V,{handleBackground:ze,handleHeaderBackground:Te})]})}}),Object(h.jsx)(d.b,{path:"/product",render:function(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(W,{handleProductState:He,prevProductState:fe}),Object(h.jsx)(q,{products:x,setProducts:f,username:L,getCart:we,handleHeaderBackground:Te})]})}})]})})})})};a.a.render(Object(h.jsx)(X,{}),document.getElementById("root"))}},[[60,1,2]]]);
//# sourceMappingURL=main.28715067.chunk.js.map